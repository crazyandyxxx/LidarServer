{% extends "base.html" %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="../static/ppi.css"/>
{% endblock %}

{% block app_content %}
<div class="container">
  <div id="viewDiv" class = "map">
    <div id="setPara">
      <select class = 'tS' id="timeSeries">
      </select>
      <select  class = 'ch' id="channel">
        <option>平行通道距离校正信号</option>
        <option>垂直通道距离校正信号</option>
        <option>消光系数</option>
        <option>退偏比</option>
        <option>平行通道原始信号</option>
        <option>垂直通道原始信号</option>
        <option>PM10</option>
        <option>PM2.5</option>
      </select>
      <span>
        &nbsp;&nbsp;从<input type="number" id="zMin" value="0" class="inputNum" max="30000" min="15">
        至<input type="number" id="zMax" value="6000" class="inputNum" max="30000" min="15">&nbsp;&nbsp;
      </span>
      <span>
        色谱下限<input type="number" id="colorMin" value="0" class="inputNum">
        色谱上限<input type="number" id="colorMax" value="10000" class="inputNum">&nbsp;&nbsp;
        透明度<input type="number" id="opacity" value="0.5" class="inputNum">
        旋转<input type="number" id="rotation" value="0" class="inputNum">
      </span>
   </div>
    <div id="colorbar">
        <canvas id="canvas" width="50" height="260"></canvas>
    </div>
    <div class="input-card" id = "info"> 
      <div>
        <span id="timeStamp"></span> 
      </div>
      <div>
        <span id="angleRange"></span>
        <span>&nbsp;&nbsp;</span>
        <span id="angleStep"></span>
        <span>&nbsp;&nbsp;</span>
        <span id="angleVer"></span>
      </div>
    </div>
    <input id="setCenter" type="image" title="居中" src="../static/setCenter.png" />
    <input id="addMarker" type="image" title="添加标记" src="../static/marker.png" />
    <input id="addRuler" type="image" title="距离测量" src="../static/ruler.png" />
    <input id="addMeasurer" type="image" title="面积测量" src="../static/measurer.png" />
    <input id="clearOverlay" type="image" title="清除" src="../static/clear.png" />
    <input id="createISOCurve" type="image" title="3D热度图" src="../static/3dHeatmap.png"/>
    <input id="curvePlay" type="image" title="播放" src="../static/play.svg"/>
    <input id="waitingPlay" type="image" src="../static/35.gif"/>
    <input id="playSpeed" type="range" min="0" max="19" value="10">
    <input id="saveMap" type="image" title="保存截图" src="../static/savePic.png" />
  </div>
</div>
{% endblock %}

{% block app_scripts %}
<script type="text/javascript">
  var task_id = '{{task_id}}';
  var urlGetPpiData = "{{ url_for('main.get_ppi_data') }}";
</script>
<script src="https://webapi.amap.com/maps?v=1.4.15&key=deccd88e5fc1ec27d19c67f6790c1c88&plugin=AMap.Geocoder,AMap.MouseTool"></script>
<script src="//webapi.amap.com/ui/1.0/main.js?v=1.0.11"></script>
<script src="../static/plotly-latest.min.js"></script>
<script src="../static/html2canvas.min.js"></script>
<script src="../static/colorbar.js"></script>
<script defer src="../static/ppi.js"></script>
{% endblock %}